import{a as l,N as f}from"./assets/vendor-CejCsbAT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const a="493c6d740f024fcc02750f44c1518471",c="https://api.themoviedb.org/3";async function u(n){const t=`${c}/movie/${n}/videos?api_key=${a}&language=en-US`;try{const e=(await l.get(t)).data.results.find(r=>r.site==="YouTube"&&r.type==="Trailer");return e?`https://www.youtube.com/embed/${e.key}?autoplay=1`:null}catch(o){return o.response&&o.response.status===404||console.error("A apărut o eroare la obținerea trailerului."),null}}async function p(n="",t=1){let o="";n?o=`${c}/search/movie?api_key=${a}&language=en-US&query=${encodeURIComponent(n)}&page=${t}`:o=`${c}/trending/all/day?language=en-US&api_key=${a}&page=${t}`;try{const s=await l.get(o),e=await Promise.all(s.data.results.map(async r=>{try{const i=await u(r.id);return{...r,trailerUrl:i}}catch{return{...r,trailerUrl:null}}}));return{...s.data,results:e}}catch(s){throw f.Notify.failure("Oops! Something went wrong! Try reloading the page!"),s}}async function d(){const t=await u(550);console.log("Trailer URL:",t)}async function y(){const o=await p("Inception",1);console.log("Movies:",o)}d();y();
//# sourceMappingURL=index.js.map
