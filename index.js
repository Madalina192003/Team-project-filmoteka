import{a as u,N as p}from"./assets/vendor-CejCsbAT.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const a="493c6d740f024fcc02750f44c1518471",c="https://api.themoviedb.org/3";async function d(s){const r=`${c}/movie/${s}/videos?api_key=${a}&language=en-US`;try{const e=(await u.get(r)).data.results.find(t=>t.site==="YouTube"&&t.type==="Trailer");return e?`https://www.youtube.com/embed/${e.key}?autoplay=1`:null}catch(o){return o.response&&o.response.status===404||console.error("A apărut o eroare la obținerea trailerului."),null}}async function h(s="",r=1){let o="";s?o=`${c}/search/movie?api_key=${a}&language=en-US&query=${encodeURIComponent(s)}&page=${r}`:o=`${c}/trending/all/day?language=en-US&api_key=${a}&page=${r}`;try{const n=await u.get(o),e=await Promise.all(n.data.results.map(async t=>{try{const i=await d(t.id);return{...t,trailerUrl:i}}catch{return{...t,trailerUrl:null}}}));return{...n.data,results:e}}catch(n){throw p.Notify.failure("Oops! Something went wrong! Try reloading the page!"),n}}async function y(){const r=await d(550);console.log("Trailer URL:",r)}async function m(){const o=await h("Inception",1);console.log("Movies:",o)}y();m();let g=localStorage.getItem("nightMode");const l=document.querySelector("#checkbox"),f=()=>{document.body.classList.add("nightMode"),localStorage.setItem("nightMode","enabled")},b=()=>{document.body.classList.remove("nightMode"),localStorage.setItem("nightMode",null)};g==="enabled"&&(l.checked=!0,f());l.addEventListener("change",()=>{g=localStorage.getItem("nightMode"),l.checked?f():b()});
//# sourceMappingURL=index.js.map
