import{a as p,N as h}from"./assets/vendor-CejCsbAT.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const c="493c6d740f024fcc02750f44c1518471",l="https://api.themoviedb.org/3";async function f(o){const n=`${l}/movie/${o}/videos?api_key=${c}&language=en-US`;try{const e=(await p.get(n)).data.results.find(t=>t.site==="YouTube"&&t.type==="Trailer");return e?`https://www.youtube.com/embed/${e.key}?autoplay=1`:null}catch(r){return r.response&&r.response.status===404||console.error("A apărut o eroare la obținerea trailerului."),null}}async function w(o="",n=1){let r="";o?r=`${l}/search/movie?api_key=${c}&language=en-US&query=${encodeURIComponent(o)}&page=${n}`:r=`${l}/trending/all/day?language=en-US&api_key=${c}&page=${n}`;try{const s=await p.get(r),e=await Promise.all(s.data.results.map(async t=>{try{const i=await f(t.id);return{...t,trailerUrl:i}}catch{return{...t,trailerUrl:null}}}));return{...s.data,results:e}}catch(s){throw h.Notify.failure("Oops! Something went wrong! Try reloading the page!"),s}}async function b(){const n=await f(550);console.log("Trailer URL:",n)}async function v(){const r=await w("Inception",1);console.log("Movies:",r)}b();v();let g=localStorage.getItem("nightMode");const a=document.querySelector("#checkbox"),y=()=>{document.body.classList.add("nightMode"),localStorage.setItem("nightMode","enabled")},M=()=>{document.body.classList.remove("nightMode"),localStorage.setItem("nightMode",null)};g==="enabled"&&(a.checked=!0,y());a.addEventListener("change",()=>{g=localStorage.getItem("nightMode"),a.checked?y():M()});const d=document.getElementById("myFooterModal"),L=document.getElementById("openFooterModal"),E=document.querySelector(".close-button-member");function T(){d.style.display="block",window.addEventListener("keydown",m)}function u(){d.style.display="none",window.removeEventListener("keydown",m)}function m(o){o.key==="Escape"&&u()}L.addEventListener("click",T);E.addEventListener("click",u);window.addEventListener("click",function(o){o.target===d&&u()});document.addEventListener("DOMContentLoaded",function(){let o=document.getElementById("scrollTopBtn");window.onscroll=function(){n()};function n(){document.body.scrollTop>35||document.documentElement.scrollTop>35?o.style.display="block":o.style.display="none"}o.addEventListener("click",r);function r(){window.scrollTo({top:0,behavior:"smooth"})}});
//# sourceMappingURL=index.js.map
